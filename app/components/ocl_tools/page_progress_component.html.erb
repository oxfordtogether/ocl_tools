<div class="flow-root">
  <ul class="flex">
    <% @progress_items.each_with_index do |item, index| %>
      <li class="w-24 flex">
        <div class="flex flex-1 flex-col items-center">
          <div class="w-20 flex-1 flex flex-col justify-center">
            <div class="text-xs text-center text-gray-500"><%= item[:label] %></div>
          </div>
          <div class="relative flex items-center justify-center h-8 w-8 rounded-full bg-gray-100">
            <% if index + 1 != @progress_items.size %><span class="absolute top-4 left-9 -ml-px h-0.5 w-full <%= item[:status] == 'completed' ? 'bg-green-400' : 'bg-gray-300' %>" aria-hidden="true"></span><% end %>
            <%= icon("check-circle", class: "h-5 w-5 #{item[:status] == 'completed' ? 'text-green-400' : 'text-gray-300'}") %>
            <% if index != 0 %><span class="absolute top-4 right-9 -ml-px h-0.5 w-full <%= ['completed', 'in_progress'].include?(item[:status]) ? 'bg-green-400' : 'bg-gray-300' %>" aria-hidden="true"></span><% end %>
          </div>
        </div>
      </li>
    <% end %>
  </ul>
</div>
